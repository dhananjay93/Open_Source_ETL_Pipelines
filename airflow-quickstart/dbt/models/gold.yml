version: 2

models:
  - name: customer_360
    description: "Customer 360 view for reporting built on silver.customers_clean."
    columns:
      - name: customer_hash
        description: "Anonymized business key; one row per customer."
        tests: [not_null, unique]

      - name: age_band
        tests:
          - accepted_values:
              values: ['Under 25','25-34','35-44','45-54','55-64','65+','Unknown']

      - name: tenure_band
        description: "Bucketing as defined in the SQL."
        tests:
          - accepted_values:
              values: ['New ( <3m )','4-12m','12-24m','24-36m','36m+']

      - name: tech_support_label
        tests:
          - accepted_values:
              values: ['Yes','No','Unknown']

      - name: churn_status
        tests:
          - accepted_values:
              values: ['Churned','Active','Unknown']

      - name: revenue_bucket
        tests:
          - accepted_values:
              values: ['High','Medium','Low']